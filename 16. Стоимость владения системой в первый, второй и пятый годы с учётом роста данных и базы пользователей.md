# Стоимость владения системой

Все вычисления являются приблизительными! 

Зафиксируем доллар по цене 75р.

Сокращения: k = 1000; m = 1000k

## Стоимость разработки

Учитывая контекст и окружение приведенные в задании к итоговой работе:

"В компании уже разработаны приложения для покупки товаров, а также узкоспециализированные приложения для некоторых видов спорта. Компания имеет большой штат разработчиков, говорящих на различных языках, и охотно адаптирует новые технологии для экспериментальных приложений. 90% всех систем, используемых в компании, расположены у облачных провайдеров, при этом нет одного выбранного провайдера — используется то, что больше подходит под конкретную задачу. "

Следуем по следующему пути:
1. Так как в компании уже разработана и используется существенная часть необходимого функционала, стоимость доработки будет не существенной.
2. Так как в штате компании имеются все необходимые ресурсы для доработки собственными силами - данный проект не повлечет за собой значительных финансовых затрат.
3. При условии что 90% всех систем находятся в облаке, не будем отходить от сложившейся традиции и будем следовать сложившейся ситуации.
4. Персональные данные будем обрабатывать и хранить на физических серверах

Предлагаю направления работ разделить на три команды:

- Первая команда будет запниматься разработкой мобильных приложений
  * группа разработки IOS приложения
  * группа разрботки Android приложения

- Вторая группа будет заниматься разработкой бэковой части находящейся во внутренней сети компании, будут работать над ядром обработки данных о пользователях, их тренировка, сообществах, уведомлениях, и инструментах аналитики получаемых данных.

- Треться команда будет заниматься разработкой интеграций между создаваемыми сервисами и общим тестированием.

Примем следующие условия что разработка ведется пол года (оптимистический срок), год (сбалансированный срок), два года (пессимистический срок при учете возникновения рисков описанных в соответствующих разделах итоговой работы). Исходим из того что был реализован оптимистичный сценарий и разработка проекта завершилась за половину года.

Так как заработная плата сотрудников в задании не отражена, берем условные цифры:

![image](https://user-images.githubusercontent.com/124265597/223049471-83746090-d422-4317-a6f1-ffd6d8515f3b.png)

За первые 6 месяцев года которые пойдут на доработку существующих сервисов уйдет примерно 3.5м * 6 месяцев = 21.2м рублей (282к $)
  

## Стоимость поддержки

Считается, что поддержка занимает треть стоимости разработки, поэтому поддержка будет нам выходить 188k $ в год.

## Стоимость серверов

Для раскатки всех сервисов одной локации нам понадобится около 8 серверов.

Для начала нам необходимы: продовая и тестовая локации, в итоге около 16 серверов.

90% сервером мы планируем снимать, 10% серверов наши.

Допустим у нас 30% серверов - Yandex cloud, 30% - Google cloud, 30% - AWS.

Получается, нам необходимо:

* 4 свои машины
* 4 AWS
* 4 Google cloud
* 4 Yandex cloud

Учитывая проведенный анализ потребности в вычислительных мощностях, имеем то что в среднем нам нужен компьютер с ~16 ядрами ~128гб памяти и ~1ТБ SSD.

Для расчёта стоимости были выбраны полноценные сервера, которыми мы владеем. В будущем эту часть расходов точно можно будет уменьшить (например используя on spot), но пока посчитаем так.

### Свои сервера

Стоимость тут относительно других невелика (съём помещения, оплата электроэнергии), работа администраторов была уже учтена, и работает на данный момент времени.


### AWS

Нам тут подходит инстанс m5ad.8xlarge: 32 vCPU, 128 GiB, 1.2Tb SSD.

Мы хотим арендовать 4 таких инстанса (dedicated, Ohio) на год и при оплате заранее у нас получится 1.229 * 24 * 365 * 4 ~ 43k$


### Google Cloud

В этом случае нам подходит e2-standard-32: 32 vCPUs, 12 GiB, 1Tb SSD.

[Калькулятор](https://cloud.google.com/products/calculator) нам говорит, что конфигурация в месяц выйдет 3750$, или же ~ 45k$ в год

### Yandex Cloud

В [калькуляторе](https://cloud.yandex.ru/services/compute) были выбраны параметры машины: Intel Ice Lake, 32 vCPU, 128 GiB, 1TB SSD, в месяц получается 62365р за одну машину,или же всего: 62365 * 12 * 4 ~ 40k$


## Итого

![image](https://user-images.githubusercontent.com/124265597/223052157-e9b834df-1644-47f0-a406-cd915e054afb.png)

В итоге у нас получается около 566k$ в год с момента запуска проекта (без учёта дополнительных data storage) на сервера.

![image](https://user-images.githubusercontent.com/124265597/223055349-a14c04fb-ccc6-416e-839e-c69a1e428c6d.png)

За второй год мы потратим 456к$ (в первые три месяца я заложил возможную модернизацию существующей инфраструктуры, с учетом возникших "хотелок" за первый год эксплуатации)

![image](https://user-images.githubusercontent.com/124265597/223055802-700c3953-42c4-43e7-9a97-9004b2004324.png)

К пятому году будем вынуждены удваивать вычислительные мощности в всязи с ростом числа пользователей и расширением географии охвата. В начале года будет значительная доработка по оптимизации производительности, надежности и масштабируемости, вероятнее всего нужно будет совершенствовать системы защиты персональных данных и в целом безопасность системы.
За пятый год эксплуатации будет затрачена сумма 583к$

В итоге получается мы потратим:
* Год 1: 566k$
* Год 2: 456к$
* Год 3: 456к$
* Год 4: 456к$
* Год 5: 583к$

В сумме за 5 лет мы потратим около 2,5m$, а далее по 450-500k$ в год. Также нужно что данные расчеты являются прогнозными и нужно учитывать изменения цен за услуги, лицензии на ПО, рост заработной платы сотрудников, изменения законодательства, и другие риски влияющие на стоимоть.
