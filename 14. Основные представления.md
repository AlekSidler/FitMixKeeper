# Основные представления

## Функциональное представление

Функциональное представление соответствует доменной модели и представлено на концептуальной архитектуре в разделе 13.

## Информационное представление


## Инфраструктурное представление

Инфраструктурные вопросы мы отдаём на outsourcing, но вот список инфраструктурных решений, к которым мы стремимся. Список может быть подвергнут изменениям outsourcing компанией.
1. Kubernetes -- для развёртывания и управления приложениями. Тут же мы будем использовать health check-и. 
2. Grafana -- фронтенд для логов и метрик
3. Prometheus -- метрики
4. AlertManager -- триггеры, алерты
5. Clickhouse -- хранение логов и метрик

## Многозадачность

   Ввиду того что мы исходим из предположения что весь функционал интернет магазина уже реализован в нашей компании (исходя из условий задания), то проблем с многозадачностью лежат полносью в плоскости того кто предоставляет нам API для работы с его системой. Мы работаем по правилам этого API и осуществляем требуемые от нас интеграции. 

   Что касается наших приложений, то проблем с параллелизмом не предполагается. При росте нагрузки провайдер увеличит количество инстансов нашего приложения для уменьшения сбоев клиентских запросов. Большое количество одновременных работающих веб приложений не помешают друг другу, так как приложения не должны хранить какие-либо состояния. Все состояния хранятся в базе и все приложения имеют доступ до базы.


## Безопасность

При разработке ПО важно помнить о безопасности, в особенности регулярно проверять, что наши системы не подвережены OWASP Top 10 уязвимостям. Также важно обеспечить своевременность обновления ПО.

Значительную часть функционала безопасности реализует именно API Gateway. Важно настроить envoy, чтобы доступ к системе был только через https. Модуль curiefense предоставляет нам WAF с необходимой нам защитой.

Все внутренние сервисы находятся внутри VPN, поэтому мы можем не беспокоиться, что общение между нашими серверами будет перехвачено.

Данные баз данных хранятся в зашифрованном виде. В MongoDB enterprise есть функционал "Encryption at Rest", который использует симметричное шифрование перед записью данных в файл.
